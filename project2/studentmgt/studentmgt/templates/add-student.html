
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Add Student - Student Management System</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

<style>
*{box-sizing:border-box;margin:0;padding:0;font-family:"Segoe UI",Arial,sans-serif}
body{min-height:100vh;display:flex;align-items:center;justify-content:center;background:#f4f6f9}
.card{width:420px;background:#fff;padding:24px;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,0.08)}
h2{margin-bottom:8px}
.form-row{margin-bottom:12px}
input,select{width:100%;padding:10px;border:1px solid #e5e7eb;border-radius:8px;font-size:14px}
.actions{display:flex;gap:10px;margin-top:12px;justify-content:flex-end}
.btn-primary{background:#2563eb;color:#fff;border:none;padding:10px 14px;border-radius:8px;cursor:pointer}
.btn-secondary{background:#9ca3af;color:#fff;border:none;padding:10px 14px;border-radius:8px;cursor:pointer}
.msg{display:none;margin-bottom:8px;padding:10px;border-radius:8px;font-size:14px}
.msg.error{background:#ffecec;color:#7f1d1d}
.msg.success{background:#e6fffa;color:#065f46}
/* Hide error initially */
.name-error{
    display:none;
    font-size:13px;
    color:#dc2626;
    margin-top:4px;
}

/* Show error ONLY when user types something invalid */
#name:not(:placeholder-shown):invalid{
    border-color:#dc2626;
}

#name:not(:placeholder-shown):invalid + .name-error{
    display:block;
}


</style>
</head>
<body>
<div class="card" role="main">
    <h2>Add Student</h2>
    {% if messages %}
        {% for message in messages %}
        <div class="msg {{ message.tags }}" role="status">{{ message }}</div>
        {% endfor %}
    {% endif %}
    <div id="form-msg" class="msg" role="status" aria-live="polite"></div>

    <form method="POST" id="student-form">
        {% csrf_token %}
        <div class="form-row">
            <input
                id="name"
                name="name"
                type="text"
                placeholder="Full Name"
                pattern="[A-Za-z.\s]+"
                title="Enter only alphabets."
                required
            >
            <span class="name-error">Enter only alphabets.</span>
        </div>

        <div class="form-row"><input id="email" name="email" type="email" placeholder="Email" required></div>
        <div class="form-row"><input id="age" name="age" type="number" min="1" placeholder="Age" required></div>
        
        <div class="form-row">
            <select id="course" name="course" required>
                <option value="">Select Course</option>
                {% for course in courses %}
                <option value="{{ course.id }}">{{ course.name }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="actions">
            <a href="{% url 'students_list' %}" class="btn-secondary" style="text-decoration:none;display:inline-block;text-align:center;">Cancel</a>
            <button type="submit" class="btn-primary">Save</button>
        </div>
    </form>
</div>

<script>
// Form validation and submission is handled by Django
// Additional client-side validation can be added here if needed
</script>
</body>
</html>
